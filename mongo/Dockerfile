FROM registry.hub.docker.com/library/mongo

ARG MONGO_INITDB_ROOT_PASSWORD
ARG MONGO_PASSWORD
ENV MONGO_INITDB_ROOT_USERNAME="root"
ENV MONGO_INITDB_ROOT_PASSWORD=$MONGO_INITDB_ROOT_PASSWORD
ENV MONGO_PASSWORD=$MONGO_PASSWORD
ENV MONGO_INITDB_DATABASE="Result"

EXPOSE 27017
COPY ./mongo-init.js /docker-entrypoint-initdb.d
RUN sed --in-place 's/MONGO_PASSWORD/'$MONGO_PASSWORD'/g' /docker-entrypoint-initdb.d/mongo-init.js